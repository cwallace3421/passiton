!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=6)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var global={areaW:780,areaH:560,deskWidth:77,deskHeight:68,deskGapVert:18,deskGapHort:22,area:null,startXOffset:null,startYOffset:null,armActive:!1,radiansOffset:Phaser.Math.degToRad(90),maxArmLength:110,droppedPoint:null,currentPoint:null,activePupil:null,meter:0,win:!1,lose:!1,armGrp:null,envGrp:null,classGrp:null,topGrp:null,bullyStopArm:!1,petStopArm:!1,passToFromIndex:null,noInput:!1,bullyNoise:20,armNoise:.3,passiveSilence:.01,soundBackground:null,soundTeacherScream:null,soundTeacherTalk:null,soundPetScream:null,soundBullyGrunts:null,soundPassPaper:null};exports.default=global},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _BullyPupil2=_interopRequireDefault(__webpack_require__(10)),_EmptyPupil2=_interopRequireDefault(__webpack_require__(11)),_NeutralPupil2=_interopRequireDefault(__webpack_require__(12)),_PetPupil2=_interopRequireDefault(__webpack_require__(16));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var classes={0:_EmptyPupil2.default,1:_NeutralPupil2.default,4:_BullyPupil2.default,5:_PetPupil2.default},types={EMPTY:{name:"EMPTY",class:0},NEUTRAL:{name:"NEUTRAL",class:1},HERO:{name:"HERO",class:void 0},TARGET:{name:"TARGET",class:void 0},BULLY:{name:"BULLY",class:4},PET:{name:"PET",class:5}};exports.default={classes:classes,types:types}},function(module,exports,__webpack_require__){"use strict";var obj,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_global=__webpack_require__(0),_global2=(obj=_global)&&obj.__esModule?obj:{default:obj};var AlertManager=function(){function AlertManager(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AlertManager)}return _createClass(AlertManager,null,[{key:"pingAlert",value:function(game,x,y,offsetx,offsety){var _this=this,showTime=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,spr=game.add.sprite(x+offsetx+4,y+offsety,"alert");spr.anchor.setTo(.5,1),_global2.default.topGrp.add(spr);var heightOrg=spr.height;spr.height=0,game.add.tween(spr).to({height:heightOrg},100,"Linear",!0).onComplete.add(function(){var clearTimer=game.time.create(!0);clearTimer.add(Phaser.Timer.SECOND*showTime,function(){spr.destroy()},_this),clearTimer.start()},this)}}]),AlertManager}();module.exports=AlertManager},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var ScaleManager=function(){function ScaleManager(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ScaleManager),this.isFullScreen=!1,this.hasRecalcuated=!0,this.createToggle()}return _createClass(ScaleManager,[{key:"createToggle",value:function(){var _this=this;window.game.input.onTap.add(function(pointer,doubleTap){},this),window.game.scale.onFullScreenChange.add(function(scale){_this.toggleFullScreen(scale.isFullScreen)},this)}},{key:"fillScreen",value:function(){window.game.scale.width!==window.screen.availWidth?(window.game.scale.setMinMax(0,0,window.screen.availWidth,window.screen.availHeight),window.game.scale.setGameSize(Math.ceil(window.screen.availWidth*window.game.scale.scaleFactor.x),1280),window.game.scale.refresh()):(window.game.scale.setMinMax(0,0,window.screen.availWidth,window.screen.availHeight),window.game.scale.setGameSize(720,1280),window.game.scale.refresh())}},{key:"toggleFullScreen",value:function(fullscreen){this.hasRecalcuated=fullscreen!==this.isFullScreen,this.isFullScreen=fullscreen}},{key:"update",value:function(){this.hasRecalcuated||(this.fillScreen(game),this.hasRecalcuated=!0)}},{key:"isFullScreen",value:function(){return this.isFullScreen}}]),ScaleManager}();module.exports=ScaleManager},function(module,exports,__webpack_require__){"use strict";var obj,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_global=__webpack_require__(0),_global2=(obj=_global)&&obj.__esModule?obj:{default:obj};var Utils=function(){function Utils(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Utils)}return _createClass(Utils,null,[{key:"deskXYIndexToXYPoint",value:function(iX,iY){var x=_global2.default.area.left+_global2.default.startXOffset+(_global2.default.deskWidth+_global2.default.deskGapHort)*iX,y=_global2.default.area.bottom-_global2.default.startYOffset-(_global2.default.deskHeight+_global2.default.deskGapVert)*iY+_global2.default.deskHeight/3;return new Phaser.Point(x,y)}}]),Utils}();module.exports=Utils},function(module,exports,__webpack_require__){"use strict";var obj,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_global=__webpack_require__(0),_global2=(obj=_global)&&obj.__esModule?obj:{default:obj};var _Pupil=function(){function _Pupil(game,type,x,y,key,frame){arguments.length>6&&void 0!==arguments[6]&&arguments[6];!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,_Pupil),console.log("_Pupil"),this.game=game,this.type=type,this.paper=!1,this.frame=frame,this.pos=new Phaser.Point(x,y),Array.isArray(this.frame)&&(this.frame=this.game.rnd.integerInRange(this.frame[0],this.frame[1])),this.pupilSpr=this.game.add.sprite(this.pos.x,this.pos.y,key,this.frame),this.pupilSpr.anchor.setTo(.5,1),_global2.default.classGrp.add(this.pupilSpr)}return _createClass(_Pupil,[{key:"destroy",value:function(){this.pupilSpr.destroy(),this.outlineSpr&&this.outlineSpr.destroy()}},{key:"update",value:function(){return!1}},{key:"check",value:function(x,y){return!1}},{key:"highlight",value:function(_highlight){return console.error("highlight(highlight) has not been implemented"),!1}},{key:"givePaper",value:function(){return console.error("givePaper() has not been implemented"),!1}},{key:"takePaper",value:function(){return console.error("takePaper() has not been implemented"),!1}},{key:"hasPaper",value:function(){return this.paper}},{key:"isSelectable",value:function(){return!1}},{key:"getSprite",value:function(){return this.pupilSpr}},{key:"getType",value:function(){return this.type}},{key:"getGame",value:function(){return this.game}},{key:"getPosition",value:function(){return this.pos}}]),_Pupil}();module.exports=_Pupil},function(module,exports,__webpack_require__){"use strict";var _StateMenu2=_interopRequireDefault(__webpack_require__(7)),_StatePlay2=_interopRequireDefault(__webpack_require__(8)),_StateWin2=_interopRequireDefault(__webpack_require__(21)),_StateLose2=_interopRequireDefault(__webpack_require__(22));_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Game=function(_Phaser$Game){function Game(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Game);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Game.__proto__||Object.getPrototypeOf(Game)).call(this,720,1280,Phaser.AUTO,null,null,!1,!0));return _this.state.add("menu",new _StateMenu2.default,!0),_this.state.add("play",new _StatePlay2.default,!1),_this.state.add("win",new _StateWin2.default,!1),_this.state.add("lose",new _StateLose2.default,!1),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Game,Phaser.Game),Game}();window.game=new Game,window.addEventListener("resize",function(){window.game.state.states[window.game.state.current].resize&&window.game.state.states[window.game.state.current].resize()})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_ScaleManager2=(_interopRequireDefault(__webpack_require__(0)),_interopRequireDefault(__webpack_require__(3)));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StateMenu=function(_Phaser$State){function StateMenu(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StateMenu),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(StateMenu.__proto__||Object.getPrototypeOf(StateMenu)).call(this))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(StateMenu,Phaser.State),_createClass(StateMenu,[{key:"init",value:function(){this.game.stage.disableVisibilityChange=!0,this.game.renderer.clearBeforeRender=!1,this.game.renderer.renderSession.roundPixels=!0,this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,window.m={},window.m.scale=new _ScaleManager2.default}},{key:"create",value:function(){window.m.scale.toggleFullScreen(!1)}},{key:"update",value:function(){this.game.state.start("play",!0),window.m.scale.update()}},{key:"preload",value:function(){this.game.load.image("title","assets/intro.png"),this.game.load.image("info_1","assets/howtoplay_1.png"),this.game.load.image("info_2","assets/howtoplay_2.png"),this.game.load.image("pixel","assets/pixel.png"),this.game.load.image("table","assets/table.png"),this.game.load.image("blackboard","assets/blackboard.png"),this.game.load.image("meter_board","assets/meter_board.png"),this.game.load.image("teachers_desk","assets/teachers_desk.png"),this.game.load.image("arm","assets/arm.png"),this.game.load.image("hand","assets/hand.png"),this.game.load.spritesheet("beatup","assets/beatup/beatup_spritesheet.png",150,150),this.game.load.spritesheet("pupils","assets/pupil_spritesheet.png",156,256),this.game.load.spritesheet("teacher","assets/teacher_spritesheet.png",180,280),this.game.load.image("alert","assets/alert.png"),this.game.load.image("success","assets/success.png"),this.game.load.image("failure","assets/detention.png"),game.load.audio("background_music",["assets/sounds/professor_umlaut.mp3"]),game.load.audio("crunchy",["assets/sounds/crunchy.mp3"]),game.load.audio("scream_pet",["assets/sounds/screm_pet.mp3"]),game.load.audio("scream_teacher",["assets/sounds/screm_teacher.mp3"]),game.load.audio("teacher_talk",["assets/sounds/teacher_talk.mp3"]),game.load.audio("bully_grunts",["assets/sounds/bully_grunts.mp3"])}},{key:"resize",value:function(){}}]),StateMenu}();exports.default=StateMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_global2=_interopRequireDefault(__webpack_require__(0)),_GameMap2=_interopRequireDefault(__webpack_require__(9));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StatePlay=function(_Phaser$State){function StatePlay(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StatePlay);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(StatePlay.__proto__||Object.getPrototypeOf(StatePlay)).call(this));return _this.isFullscreen=!1,_this.message="",_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(StatePlay,Phaser.State),_createClass(StatePlay,[{key:"init",value:function(){this.game.stage.disableVisibilityChange=!0,this.game.renderer.clearBeforeRender=!1,this.game.renderer.renderSession.roundPixels=!0,window.m.scale.createToggle()}},{key:"create",value:function(){_global2.default.armGrp=this.game.add.group(),_global2.default.envGrp=this.game.add.group(),_global2.default.classGrp=this.game.add.group(),_global2.default.topGrp=this.game.add.group(),this.gameMap=new _GameMap2.default(this.game)}},{key:"update",value:function(){this.game.world.sort("y",Phaser.Group.SORT_ASCENDING),this.game.world.sendToBack(_global2.default.envGrp),this.game.world.bringToTop(_global2.default.armGrp),this.game.world.bringToTop(_global2.default.topGrp),this.gameMap.update(),window.m.scale.update()}},{key:"preload",value:function(){}},{key:"resize",value:function(){}}]),StatePlay}();exports.default=StatePlay},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_global2=_interopRequireDefault(__webpack_require__(0)),_PupilMap2=_interopRequireDefault(__webpack_require__(1)),_Teacher2=_interopRequireDefault(__webpack_require__(17)),_Meter2=_interopRequireDefault(__webpack_require__(18)),_LevelManager2=_interopRequireDefault(__webpack_require__(19));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var GameMap=function(){function GameMap(game){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GameMap),this.game=game,this.wallSpr=this.game.add.sprite(0,0,"pixel"),this.wallSpr.width=this.game.width,this.wallSpr.height=350,this.wallSpr.tint=16579555,_global2.default.envGrp.add(this.wallSpr),this.teacherFloorSpr=this.game.add.sprite(0,this.wallSpr.height,"pixel"),this.teacherFloorSpr.width=this.game.width,this.teacherFloorSpr.height=this.wallSpr.height+150,this.teacherFloorSpr.tint=14527180,_global2.default.envGrp.add(this.teacherFloorSpr),_global2.default.classGrp.position.x=0,_global2.default.classGrp.position.y=this.teacherFloorSpr.height,this.classFloorSpr=this.game.add.sprite(0,0,"pixel"),this.classFloorSpr.width=this.game.width,this.classFloorSpr.height=this.game.height-_global2.default.classGrp.position.y,this.classFloorSpr.tint=11184810,_global2.default.classGrp.add(this.classFloorSpr);var level=_LevelManager2.default.getLevel();console.log(level);var classWidth=210*level[0].length-210+296;this.classFloorSpr.width=classWidth;for(var deskPositions=JSON.parse(JSON.stringify(level)),y=deskPositions.length-1;y>=0;y--)for(var x=0;x<deskPositions[y].length;x++){var posX=148+210*x,posY=this.classFloorSpr.height-(72+172*y),desk=this.game.add.sprite(posX,posY,"table");desk.anchor.setTo(.5,1),_global2.default.classGrp.add(desk),deskPositions[y][x]={x:posX,y:posY}}this.pupils=JSON.parse(JSON.stringify(level));for(var count=0,_y=this.pupils.length-1;_y>=0;_y--)for(var _x=0;_x<this.pupils[_y].length;_x++){count++;var type=this.pupils[_y][_x],pos=deskPositions[_y][_x];this.pupils[_y][_x]=new _PupilMap2.default.classes[type](window.game,pos.x,pos.y)}console.log(this.pupils),console.log(count),this.boardSpr=this.game.add.sprite(this.game.width/2,30,"blackboard"),this.boardSpr.anchor.setTo(.5,0),_global2.default.envGrp.add(this.boardSpr),this.meterObj=new _Meter2.default(this.game,this.boardSpr.x+this.boardSpr.width/2+6,45),this.teacher=new _Teacher2.default(this.game,this.game.width/2,this.wallSpr.height+50),this.createClassScroll()}return _createClass(GameMap,[{key:"createClassScroll",value:function(){this.classFloorSpr.savedPosition=new Phaser.Point(_global2.default.classGrp.position.x,_global2.default.classGrp.position.y),this.classFloorSpr.isBeingDragged=!1,this.classFloorSpr.scrollingSpeed=0,this.classFloorSpr.inputEnabled=!0}},{key:"updateClassScroll",value:function(){var _this=this,pointer=this.game.input.activePointer;pointer.isDown&&this.classFloorSpr.getBounds().contains(pointer.x,pointer.y)?this.classFloorSpr.isBeingDragged=!0:this.classFloorSpr.isBeingDragged=!1;var leftScrollCheck=function(){return _global2.default.classGrp.position.x>0},rightScrollCheck=function(){return _global2.default.classGrp.position.x+_this.classFloorSpr.width<window.game.width};if(this.classFloorSpr.isBeingDragged)this.classFloorSpr.savedPosition=new Phaser.Point(_global2.default.classGrp.position.x,_global2.default.classGrp.position.y),this.classFloorSpr.pointerOffsetX||(this.classFloorSpr.pointerOffsetX=pointer.x-_global2.default.classGrp.position.x),_global2.default.classGrp.position.x=pointer.x-this.classFloorSpr.pointerOffsetX,leftScrollCheck()&&(_global2.default.classGrp.position.x=0,this.classFloorSpr.pointerOffsetX=pointer.x-_global2.default.classGrp.position.x),rightScrollCheck()&&(_global2.default.classGrp.position.x=-(this.classFloorSpr.width-this.game.width),this.classFloorSpr.pointerOffsetX=pointer.x-_global2.default.classGrp.position.x);else{if(this.classFloorSpr.scrollingSpeed>1)_global2.default.classGrp.position.x+=this.classFloorSpr.scrollingSpeed*Math.cos(this.classFloorSpr.scrollingAngle),leftScrollCheck()&&(_global2.default.classGrp.position.x=0),rightScrollCheck()&&(_global2.default.classGrp.position.x=-(this.classFloorSpr.width-this.game.width)),this.classFloorSpr.scrollingSpeed*=.8,this.classFloorSpr.savedPosition=new Phaser.Point(_global2.default.classGrp.position.x,_global2.default.classGrp.position.y);else{var distance=this.classFloorSpr.savedPosition.distance(_global2.default.classGrp.position),angle=this.classFloorSpr.savedPosition.angle(_global2.default.classGrp.position);distance>4&&(this.classFloorSpr.scrollingSpeed=2.5*distance,this.classFloorSpr.scrollingAngle=angle)}this.classFloorSpr.pointerOffsetX=void 0}}},{key:"generatePupils",value:function(){this.pupils=[];for(var y=0;y<this.deskColSize;y++){for(var row=[],x=0;x<this.deskRowSize;x++)this.game.rnd.integerInRange(0,100)>80?row.push(new EmptyPupil(this.game,x,y)):row.push(new NeutralPupil(this.game,x,y));this.pupils.push(row)}this.giveInitialNote();for(var n=0;n<2;n++){var _x2=this.game.rnd.integerInRange(1,this.deskRowSize-2),_y2=this.game.rnd.integerInRange(1,this.deskColSize-2);this.pupils[_y2][_x2].destroy&&this.pupils[_y2][_x2].destroy(),this.pupils[_y2][_x2]=new BullyPupil(this.game,_x2,_y2)}for(var _n=0;_n<1;_n++){var _x3=this.game.rnd.integerInRange(1,this.deskRowSize-2),_y3=this.game.rnd.integerInRange(1,this.deskColSize-2);this.pupils[_y3][_x3].destroy&&this.pupils[_y3][_x3].destroy(),this.pupils[_y3][_x3]=new PetPupil(this.game,_x3,_y3)}console.log(this.pupils)}},{key:"update",value:function(){this.updateClassScroll();for(var y=0;y<this.pupils.length;y++)for(var x=0;x<this.pupils[0].length;x++)this.pupils[y][x].update&&this.pupils[y][x].update()}},{key:"giveInitialNote",value:function(){this.game.rnd.integerInRange(0,100)>50?(this.pupils[0][0].destroy(),this.pupils[0][0]=new NeutralPupil(this.game,0,0,"hero"),this.pupils[0][0].givePaper(),this.pupils[this.deskColSize-1][this.deskRowSize-1].destroy(),this.pupils[this.deskColSize-1][this.deskRowSize-1]=new NeutralPupil(this.game,this.deskRowSize-1,this.deskColSize-1,"target")):(this.pupils[0][this.deskRowSize-1].destroy(),this.pupils[0][this.deskRowSize-1]=new NeutralPupil(this.game,this.deskRowSize-1,0,"hero"),this.pupils[0][this.deskRowSize-1].givePaper(),this.pupils[this.deskColSize-1][0].destroy(),this.pupils[this.deskColSize-1][0]=new NeutralPupil(this.game,0,this.deskColSize-1,"target"))}},{key:"shouldPassPaper",value:function(){if(_global2.default.droppedPoint){for(var y=0;y<this.pupils.length;y++)for(var x=0;x<this.pupils[0].length;x++)this.pupils[y][x].check&&this.pupils[y][x].givePaper&&this.pupils[y][x].check(_global2.default.droppedPoint.x,_global2.default.droppedPoint.y)&&(_global2.default.soundPassPaper=this.game.sound.play("crunchy",.6,!1),_global2.default.activePupil.takePaper(),this.pupils[y][x].givePaper());_global2.default.droppedPoint=null}}}]),GameMap}();module.exports=GameMap},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_global2=_interopRequireDefault(__webpack_require__(0)),_utils2=_interopRequireDefault(__webpack_require__(4)),_AlertManager2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var BullyPupil=function(){function BullyPupil(game,iX,iY){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BullyPupil),this.game=game,this.speed=10,this.noiseRange=[0,5],this.paper=!1,this.index=new Phaser.Point(iX,iY);var pos=_utils2.default.deskXYIndexToXYPoint(iX,iY);this.spr=this.game.add.sprite(pos.x,pos.y,"pupils",8),this.spr.anchor.setTo(.5,1),this.spr.scale.setTo(.5),this.beatupSpr=this.game.add.sprite(-100,-100,"beatup"),this.beatupSpr.anchor.setTo(.5),this.beatupSpr.scale.setTo(.8),this.beatupSpr.visible=!1,_global2.default.topGrp.add(this.beatupSpr),this.aniBeatup=this.beatupSpr.animations.add("beatup",[0,1,2],4,!0),this.aniBeatup.play("beatup"),this.coll=new Phaser.Circle(pos.x,pos.y-this.spr.height/2+10,130)}return _createClass(BullyPupil,[{key:"destroy",value:function(){this.spr.destroy(),this.beatupSpr.destroy(),this.coll=null}},{key:"update",value:function(){var _this=this;_global2.default.currentPoint&&this.coll.contains(_global2.default.currentPoint.x,_global2.default.currentPoint.y)&&_global2.default.armActive&&!_global2.default.stopArm&&!this.paper&&(_AlertManager2.default.pingAlert(this.game,this.spr.position.x,this.spr.position.y,0,46-this.spr.height),_global2.default.soundBullyGrunts=this.game.sound.play("bully_grunts",.5,!1),_global2.default.bullyStopArm=!0,_global2.default.meter+=_global2.default.bullyNoise,_global2.default.meter>100&&(_global2.default.meter=100),this.paper=!0,this.toggleBeatup(!0,_global2.default.currentPoint)),this.paper&&!this.passTimer&&(this.passTimer=this.game.time.create(!0),this.passTimer.add(2*Phaser.Timer.SECOND,function(){console.log("bully pass timer complete"),_this.toggleBeatup(!1),_this.passTimer=void 0,_global2.default.passToFromIndex=_this.index},this),this.passTimer.start(),this.paper=!1)}},{key:"toggleBeatup",value:function(active,point){active?(this.aniBeatup.play("beatup"),this.beatupSpr.position.x=point.x,this.beatupSpr.position.y=point.y,this.beatupSpr.visible=!0):(this.aniBeatup.stop(),this.beatupSpr.position.x=-100,this.beatupSpr.position.y=-100,this.beatupSpr.visible=!1)}},{key:"check",value:function(x,y){return this.coll.contains(x,y)}},{key:"highlight",value:function(_highlight){this.spr.tint=_highlight?11184810:16777215}},{key:"isSelectable",value:function(){return!1}}]),BullyPupil}();module.exports=BullyPupil},function(module,exports,__webpack_require__){"use strict";var _Pupil4=_interopRequireDefault(__webpack_require__(5)),_PupilMap2=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EmptyPupil=function(_Pupil2){function EmptyPupil(game,x,y){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EmptyPupil),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(EmptyPupil.__proto__||Object.getPrototypeOf(EmptyPupil)).call(this,game,_PupilMap2.default.types.Empty,x,y,"pupils",0))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(EmptyPupil,_Pupil4.default),EmptyPupil}();module.exports=EmptyPupil},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Pupil4=_interopRequireDefault(__webpack_require__(5)),_PupilMap2=_interopRequireDefault(__webpack_require__(1)),_global2=_interopRequireDefault(__webpack_require__(0)),_FilterManager2=(_interopRequireDefault(__webpack_require__(13)),_interopRequireDefault(__webpack_require__(14)));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NeutralPupil=function(_Pupil2){function NeutralPupil(game,x,y){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NeutralPupil);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(NeutralPupil.__proto__||Object.getPrototypeOf(NeutralPupil)).call(this,game,_PupilMap2.default.types.NEUTRAL,x,y,"pupils",[3,6]));return _this.createOutline(),_this.createCollision(),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(NeutralPupil,_Pupil4.default),_createClass(NeutralPupil,[{key:"createOutline",value:function(){this.outlineSpr=this.game.add.sprite(this.getPosition().x,this.getPosition().y-9,"pupils",this.frame),this.outlineSpr.anchor.setTo(.5,.9),this.outlineSpr.scale.setTo(.5),this.outlineSpr.width+=14,this.outlineSpr.height+=12,this.outlineSpr.visible=!1}},{key:"createCollision",value:function(){this.pupilSpr.height}},{key:"update",value:function(){}},{key:"check",value:function(x,y){return this.collision.contains(x,y)}},{key:"highlight",value:function(_highlight){_highlight&&!this.outlineSpr.filters?(this.outlineSpr.filters=[_FilterManager2.default.getSelectedPupilFilter()],this.outlineSpr.visible=!0):_highlight||(this.outlineSpr.filters=null,this.outlineSpr.visible=!1)}},{key:"givePaper",value:function(){this.highlight(!0),this.paper=!0,_global2.default.activePupil=this,this.target&&(_global2.default.win=!0)}},{key:"takePaper",value:function(){this.highlight(!1),this.paper=!1}},{key:"isSelectable",value:function(){return!0}}]),NeutralPupil}();module.exports=NeutralPupil},function(module,exports,__webpack_require__){"use strict";var obj,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_global=__webpack_require__(0),_global2=(obj=_global)&&obj.__esModule?obj:{default:obj};var ArmManager=function(){function ArmManager(parent,game,pupil,startX,startY){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ArmManager),this.parent=new Phaser.Rectangle(parent.left,parent.top,parent.width,parent.height),this.game=game,this.pupil=pupil,this.startPos=new Phaser.Point(startX,startY),this.spr=this.game.add.sprite(startX,startY,"arm"),this.spr.anchor.setTo(.5,1),this.spr.scale.setTo(.8),this.spr.visible=!1,_global2.default.armGrp.add(this.spr);this.startPos.x,this.spr.height,Math.cos(this.spr.rotation-_global2.default.radiansOffset),this.startPos.y,this.spr.height,Math.sin(this.spr.rotation-_global2.default.radiansOffset);this.handSpr=this.game.add.sprite(startX,startY,"hand"),this.handSpr.anchor.setTo(.5,.5),this.handSpr.scale.setTo(.5),this.handSpr.visible=!1,_global2.default.armGrp.add(this.handSpr),this.handSpr.bringToTop(),this.spr.sendToBack(),this.active=!1}return _createClass(ArmManager,[{key:"update",value:function(){if(this.pupil.hasPaper()){var mousePos=new Phaser.Point(this.game.input.activePointer.x,this.game.input.activePointer.y),isDown=this.game.input.activePointer.leftButton.isDown,endX=this.startPos.x+this.spr.height*Math.cos(this.spr.rotation-_global2.default.radiansOffset),endY=this.startPos.y+this.spr.height*Math.sin(this.spr.rotation-_global2.default.radiansOffset);this.handSpr.position.x=endX,this.handSpr.position.y=endY,this.handSpr.rotation=this.spr.rotation,this.active||_global2.default.armActive?(this.setArmLength(mousePos),this.setArmAngle(mousePos),_global2.default.currentPoint=new Phaser.Point(endX,endY),_global2.default.meter+=_global2.default.armNoise,_global2.default.meter>100&&(_global2.default.meter=100),!isDown&&this.active&&(this.toggleActive(!1),_global2.default.droppedPoint=new Phaser.Point(endX,endY),console.log("line release"))):this.parent.contains(mousePos.x,mousePos.y)&&isDown&&(this.setArmLength(mousePos),this.setArmAngle(mousePos),this.toggleActive(!0),console.log("line active")),_global2.default.noInput&&this.toggleActive(!1),_global2.default.lose&&(this.toggleActive(!1),_global2.default.noInput=!0),_global2.default.bullyStopArm&&(this.toggleActive(!1),_global2.default.bullyStopArm=!1,this.pupil.takePaper()),_global2.default.petStopArm&&(this.toggleActive(!1),_global2.default.petStopArm=!1,this.pupil.takePaper())}}},{key:"setArmLength",value:function(pos){var length=Math.floor(Phaser.Math.distance(this.startPos.x,this.startPos.y,pos.x,pos.y));length<0?length=0:length>_global2.default.maxArmLength&&(length=_global2.default.maxArmLength),this.spr.height=length}},{key:"setArmAngle",value:function(pos){this.spr.rotation=Phaser.Point.angle(this.startPos,pos)-_global2.default.radiansOffset}},{key:"toggleActive",value:function(active){this.active=active,this.spr.visible=active,_global2.default.armActive=active,this.handSpr.visible=active,active||(this.spr.position.x=this.startPos.x,this.spr.position.y=this.startPos.y,this.handSpr.position.x=this.startPos.x,this.handSpr.position.y=this.startPos.y,this.spr.height=5,_global2.default.droppedPoint=null,_global2.default.currentPoint=null)}}]),ArmManager}();module.exports=ArmManager},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_FilterColorFillLoad2=(_interopRequireDefault(__webpack_require__(0)),_interopRequireDefault(__webpack_require__(15)));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FilterManager=function(){function FilterManager(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FilterManager),(0,_FilterColorFillLoad2.default)()}return _createClass(FilterManager,[{key:"getFillColorFilter",value:function(r,g,b){var filter=window.game.add.filter("ColorFill",g.areaW,g.areaH);return filter.u_color=Phaser.Color.createColor(r,g,b),filter}},{key:"getSelectedPupilFilter",value:function(){return this.selectedPupilFilter||(this.selectedPupilFilter=this.getFillColorFilter(255,255,255)),this.selectedPupilFilter}},{key:"getTargetPupilFilter",value:function(){return this.targetPupilFilter||(this.targetPupilFilter=this.getFillColorFilter(80,230,100)),this.targetPupilFilter}},{key:"getWinPupilFilter",value:function(){return this.winPupilFilter||(this.winPupilFilter=this.getFillColorFilter(247,239,17)),this.winPupilFilter}}]),FilterManager}();module.exports=new FilterManager},function(module,exports,__webpack_require__){"use strict";module.exports=function(){Phaser.Filter.ColorFill=function(game){Phaser.Filter.call(this,game),this.uniforms.u_color={type:"3f",value:{x:0,y:0,z:0}},this.fragmentSrc=["precision mediump float;","precision mediump int;","uniform vec3 u_color;","uniform sampler2D uSampler;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main() {","vec4 tex = texture2D(uSampler, vTextureCoord);","vec4 newColor = vec4(u_color.x, u_color.y, u_color.z, 1);","gl_FragColor = newColor * tex.a;","}"]},Phaser.Filter.ColorFill.prototype=Object.create(Phaser.Filter.prototype),Phaser.Filter.ColorFill.prototype.constructor=Phaser.Filter.ColorFill,Phaser.Filter.ColorFill.prototype.init=function(width,height,color){this.setResolution(width,height),color&&(this.uniforms.u_color.value={x:color.r/255,y:color.g/255,z:color.b/255})},Object.defineProperty(Phaser.Filter.ColorFill.prototype,"u_color",{get:function(){return this.uniforms.u_color.value},set:function(value){this.uniforms.u_color.value={x:value.r/255,y:value.g/255,z:value.b/255}}})}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_global2=_interopRequireDefault(__webpack_require__(0)),_utils2=_interopRequireDefault(__webpack_require__(4)),_AlertManager2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PetPupil=function(){function PetPupil(game,iX,iY){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PetPupil),this.game=game,this.speed=10,this.noiseRange=[0,5],this.paper=!1;var pos=_utils2.default.deskXYIndexToXYPoint(iX,iY);this.spr=this.game.add.sprite(pos.x,pos.y,"pupils",7),this.spr.anchor.setTo(.5,1),this.spr.scale.setTo(.5),this.coll=new Phaser.Circle(pos.x,pos.y-this.spr.height/2+10,130)}return _createClass(PetPupil,[{key:"destroy",value:function(){this.spr.destroy(),this.coll=null}},{key:"update",value:function(){_global2.default.currentPoint&&this.coll.contains(_global2.default.currentPoint.x,_global2.default.currentPoint.y)&&!_global2.default.lose&&(_AlertManager2.default.pingAlert(this.game,this.spr.position.x,this.spr.position.y,0,45-this.spr.height),_global2.default.meter=100,_global2.default.petStopArm=!0,_global2.default.soundPetScream=this.game.sound.play("scream_pet",.4,!1))}},{key:"check",value:function(x,y){return this.coll.contains(x,y)}},{key:"highlight",value:function(_highlight){this.spr.tint=_highlight?11184810:16777215}},{key:"isSelectable",value:function(){return!1}}]),PetPupil}();module.exports=PetPupil},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_global2=_interopRequireDefault(__webpack_require__(0)),_AlertManager2=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Teacher=function(){function Teacher(game,x,y){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Teacher),this.game=game,this.spr=this.game.add.sprite(x,y,"teacher",0),this.spr.anchor.setTo(.5,1),this.aniChalk=this.spr.animations.add("chalk",[0,1],2,!0),this.aniChalk.play("chalk")}return _createClass(Teacher,[{key:"update",value:function(){var _this=this;this.startPhase||this.turnTimer||(this.turnTimer=this.game.time.create(!0),this.turnTimer.add(4.5*Phaser.Timer.SECOND,function(){console.log("turnTimer complete"),_this.turn()},this),this.turnTimer.start(),console.log("turnTimer start")),_global2.default.meter>=100&&(_global2.default.lose=!0),this.facingClass&&_global2.default.currentPoint&&(_global2.default.lose=!0),_global2.default.lose&&!this.alerting&&(_AlertManager2.default.pingAlert(this.game,this.spr.position.x,this.spr.position.y,-4,36-this.spr.height,6),this.alerting=!0),_global2.default.lose&&(_global2.default.noInput=!0,this.spr.frame=2,_global2.default.soundTeacherTalk.stop(),_global2.default.soundTeacherScream||(_global2.default.soundTeacherScream=this.game.sound.play("scream_teacher",.4,!1)))}},{key:"turn",value:function(){console.log("turning"),this.turnTimer&&this.turnTimer.stop(),this.aniChalk.stop(),this.aniTurn.play("turn"),_global2.default.soundTeacherTalk.pause()}},{key:"lowerMeter",value:function(){_global2.default.meter-=8,_global2.default.meter<0&&(_global2.default.meter=0)}}]),Teacher}();module.exports=Teacher},function(module,exports,__webpack_require__){"use strict";var obj,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_global=__webpack_require__(0),_global2=(obj=_global)&&obj.__esModule?obj:{default:obj};var Meter=function(){function Meter(game,x,y){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Meter),this.game=game,this.backSpr=this.game.add.sprite(x+1,y,"pixel"),this.backSpr.width=60,this.backSpr.height=224,this.backSpr.tint=2044969,_global2.default.envGrp.add(this.backSpr),this.meterSpr=this.game.add.sprite(x+7,y,"pixel"),this.meterSpr.width=52,this.meterSpr.height=224,this.meterSpr.position.y+=this.meterSpr.height,this.meterSpr.tint=7929856,this.meterSpr.anchor.setTo(0,1),_global2.default.envGrp.add(this.meterSpr),this.frameSpr=this.game.add.sprite(x,y,"meter_board")}return _createClass(Meter,[{key:"update",value:function(){this.meterSpr.height=Math.ceil(_global2.default.meter/100*96)+3}}]),Meter}();module.exports=Meter},function(module,exports,__webpack_require__){"use strict";var obj,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_levelConfig=__webpack_require__(20),_levelConfig2=(obj=_levelConfig)&&obj.__esModule?obj:{default:obj};var LevelManager=function(){function LevelManager(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LevelManager)}return _createClass(LevelManager,[{key:"getLevel",value:function(){return _levelConfig2.default.levels[0].map}}]),LevelManager}();module.exports=new LevelManager},function(module,exports){module.exports={levels:[{name:"",width:0,height:0,start:[0,0],end:[0,0],map:[[0,1,1,0,0,1,1],[0,1,0,1,1,0,0],[1,1,1,0,1,1,1],[0,0,0,1,0,1,1]]}]}},function(module,exports,__webpack_require__){"use strict";var obj,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_global=__webpack_require__(0),_global2=(obj=_global)&&obj.__esModule?obj:{default:obj};var StateWin=function(_Phaser$State){function StateWin(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StateWin),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(StateWin.__proto__||Object.getPrototypeOf(StateWin)).call(this))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(StateWin,Phaser.State),_createClass(StateWin,[{key:"init",value:function(){this.game.stage.disableVisibilityChange=!0,this.game.renderer.clearBeforeRender=!1,this.game.renderer.renderSession.roundPixels=!0,this.game.input.mouse.capture=!0,this.game.input.keyboard.onUpCallback=void 0}},{key:"create",value:function(){_global2.default.soundTeacherTalk&&_global2.default.soundTeacherTalk.stop(),_global2.default.soundTeacherScream&&_global2.default.soundTeacherScream.stop(),_global2.default.soundPetScream&&_global2.default.soundPetScream.stop(),_global2.default.soundBullyGrunts&&_global2.default.soundBullyGrunts.stop(),_global2.default.soundPassPaper&&_global2.default.soundPassPaper.stop(),this.game.input.keyboard.onUpCallback=function(event){location.reload()},this.game.stage.backgroundColor=2044969;var messageSpr=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY,"success");messageSpr.anchor.setTo(.5),messageSpr.scale.setTo(.2)}},{key:"update",value:function(){}},{key:"preload",value:function(){}},{key:"resize",value:function(){}}]),StateWin}();module.exports=StateWin},function(module,exports,__webpack_require__){"use strict";var obj,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_global=__webpack_require__(0),_global2=(obj=_global)&&obj.__esModule?obj:{default:obj};var StateLose=function(_Phaser$State){function StateLose(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StateLose),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(StateLose.__proto__||Object.getPrototypeOf(StateLose)).call(this))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(StateLose,Phaser.State),_createClass(StateLose,[{key:"init",value:function(){this.game.stage.disableVisibilityChange=!0,this.game.renderer.clearBeforeRender=!1,this.game.renderer.renderSession.roundPixels=!0,this.game.input.mouse.capture=!0,this.game.input.keyboard.onUpCallback=void 0}},{key:"create",value:function(){_global2.default.soundTeacherTalk&&_global2.default.soundTeacherTalk.stop(),_global2.default.soundTeacherScream&&_global2.default.soundTeacherScream.stop(),_global2.default.soundPetScream&&_global2.default.soundPetScream.stop(),_global2.default.soundBullyGrunts&&_global2.default.soundBullyGrunts.stop(),_global2.default.soundPassPaper&&_global2.default.soundPassPaper.stop(),this.game.input.keyboard.onUpCallback=function(event){location.reload()},this.game.stage.backgroundColor=7929856;var messageSpr=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY,"failure");messageSpr.anchor.setTo(.5),messageSpr.scale.setTo(.2)}},{key:"update",value:function(){}},{key:"preload",value:function(){}},{key:"resize",value:function(){}}]),StateLose}();module.exports=StateLose}]);